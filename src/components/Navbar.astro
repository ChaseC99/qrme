---
import DownloadButton from "./DownloadButton.astro";
const { pathname } = Astro.url;

const path = pathname === '/' ? '#' : '/';
---

<script is:inline>
    /**
     * Toggles the visibility of the navbar by adding or removing the 'show' class
     */
    function toggleNavbar() {
        const navbar = document.getElementById('navbar-items');
        if (navbar.classList.contains('show')) {
            navbar.classList.remove('show');
        } else {
            navbar.classList.add('show');
        }
    }
</script>

<nav>
    <a href={path} class="navbar-logo-button">
        <img class="navbar-logo" src="/logo.png" alt="QR Me Contact Logo">
        <span id="title">QR Me</span>
    </a>

    <a id="ham-menu" onclick="toggleNavbar()">
        <svg viewBox="0 0 100 60" width="40" height="40">
            <rect width="100" height="10" rx="8"></rect>
            <rect y="30" width="100" height="10" rx="8"></rect>
            <rect y="60" width="100" height="10" rx="8"></rect>
        </svg>
    </a>
    
    <ul id="navbar-items" onclick="toggleNavbar()">
        <li class="navbar-item"><a href={path + "pricing"}>Pricing</a></li>
        <li class="navbar-item"><a href={path + "privacy"}>Privacy</a></li>
        <li class="navbar-item"><a href={path + "faq"}>FAQs</a></li>
        <li class="navbar-item"><a href={path + "contact"}>Contact</a></li>
        <li class="navbar-item"><DownloadButton /></li>
    </ul>
</nav>

<style>
    nav {
        position: sticky;
        top: 0;
        background-color: white;
        box-shadow: #a8edfe 0 0 10px 5px;
        display: flex;
        flex-direction: row;
        flex-wrap: wrap;
        justify-content: space-between;
        align-items: center;
        padding: 0 16px;
        z-index: 100;
    }

    .navbar-logo-button {
        display: flex;
        flex-direction: row;
        align-items: center;
        gap: 10px;
        text-decoration: none;
        color: black;
        font-size: 1.5em;
        font-weight: 600;
    }

    .navbar-logo {
        height: 50px;
        width: 50px;
        margin: 8px 0;
        border-radius: 8px;
    }

    #navbar-items {
        list-style-type: none;
        margin: 0;
        padding: 0;
    }

    .navbar-item {
        display: inline;
    }

    .navbar-item a {
        padding: 8px;
        text-decoration: none;
        color: black;
    }

    .navbar-item a:hover {
        text-decoration: underline;
    }

    .download-button {
        text-decoration: none;
        background-color: #a8edfe;
        border-radius: 8px;
    }

    .download-button:hover {
        text-decoration: none !important;
    }

    #ham-menu {
        margin: 8px 0;
        display: none;
    }

    @media only screen and (max-width: 500px) {
        #ham-menu {
            display: block;
        }

        #navbar-items {
            width: 100%;
            display: none;
            flex-direction: column;
            gap: 2em;
            text-align: center;
            margin-bottom: 2em;
        }

        .show {
            display: flex !important;
        }

        #title {
            display: none;
        }
    }
</style>